(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();let i;function d(t){const e=i.__externref_table_alloc();return i.__wbindgen_export_2.set(e,t),e}function f(t,e){try{return t.apply(this,e)}catch(n){const r=d(n);i.__wbindgen_exn_store(r)}}const x=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&x.decode();let b=null;function w(){return(b===null||b.byteLength===0)&&(b=new Uint8Array(i.memory.buffer)),b}function u(t,e){return t=t>>>0,x.decode(w().subarray(t,t+e))}let m=0;const y=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},A=typeof y.encodeInto=="function"?function(t,e){return y.encodeInto(t,e)}:function(t,e){const n=y.encode(t);return e.set(n),{read:t.length,written:n.length}};function I(t,e,n){if(n===void 0){const a=y.encode(t),l=e(a.length,1)>>>0;return w().subarray(l,l+a.length).set(a),m=a.length,l}let r=t.length,o=e(r,1)>>>0;const s=w();let c=0;for(;c<r;c++){const a=t.charCodeAt(c);if(a>127)break;s[o+c]=a}if(c!==r){c!==0&&(t=t.slice(c)),o=n(o,r,r=c+t.length*3,1)>>>0;const a=w().subarray(o+c,o+r),l=A(t,a);c+=l.written,o=n(o,r,c,1)>>>0}return m=c,o}let _=null;function E(){return(_===null||_.buffer.detached===!0||_.buffer.detached===void 0&&_.buffer!==i.memory.buffer)&&(_=new DataView(i.memory.buffer)),_}function g(t){return t==null}function W(t){const e=i.__wbindgen_export_2.get(t);return i.__externref_table_dealloc(t),e}function B(t){const e=i.generate_key(t);if(e[2])throw W(e[1]);return h.__wrap(e[0])}const k=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>i.__wbg_keyresult_free(t>>>0,1));class h{static __wrap(e){e=e>>>0;const n=Object.create(h.prototype);return n.__wbg_ptr=e,k.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,k.unregister(this),e}free(){const e=this.__destroy_into_raw();i.__wbg_keyresult_free(e,0)}get secret_key(){let e,n;try{const r=i.keyresult_secret_key(this.__wbg_ptr);return e=r[0],n=r[1],u(r[0],r[1])}finally{i.__wbindgen_free(e,n,1)}}get public_key(){let e,n;try{const r=i.keyresult_public_key(this.__wbg_ptr);return e=r[0],n=r[1],u(r[0],r[1])}finally{i.__wbindgen_free(e,n,1)}}get pattern_char(){let e,n;try{const r=i.keyresult_pattern_char(this.__wbg_ptr);return e=r[0],n=r[1],u(r[0],r[1])}finally{i.__wbindgen_free(e,n,1)}}}async function L(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function S(){const t={};return t.wbg={},t.wbg.__wbg_buffer_609cc3eee51ed158=function(e){return e.buffer},t.wbg.__wbg_call_672a4d21634d4a24=function(){return f(function(e,n){return e.call(n)},arguments)},t.wbg.__wbg_call_7cccdd69e0791ae2=function(){return f(function(e,n,r){return e.call(n,r)},arguments)},t.wbg.__wbg_crypto_ed58b8e10a292839=function(e){return e.crypto},t.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,n){let r,o;try{r=e,o=n,console.error(u(e,n))}finally{i.__wbindgen_free(r,o,1)}},t.wbg.__wbg_getRandomValues_bcb4912f16000dc4=function(){return f(function(e,n){e.getRandomValues(n)},arguments)},t.wbg.__wbg_msCrypto_0a36e2ec3a343d26=function(e){return e.msCrypto},t.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},t.wbg.__wbg_new_a12002a7f91c75be=function(e){return new Uint8Array(e)},t.wbg.__wbg_newnoargs_105ed471475aaf50=function(e,n){return new Function(u(e,n))},t.wbg.__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a=function(e,n,r){return new Uint8Array(e,n>>>0,r>>>0)},t.wbg.__wbg_newwithlength_a381634e90c276d4=function(e){return new Uint8Array(e>>>0)},t.wbg.__wbg_node_02999533c4ea02e3=function(e){return e.node},t.wbg.__wbg_process_5c1d670bc53614b8=function(e){return e.process},t.wbg.__wbg_randomFillSync_ab2cfe79ebbf2740=function(){return f(function(e,n){e.randomFillSync(n)},arguments)},t.wbg.__wbg_require_79b1e9274cde3c87=function(){return f(function(){return module.require},arguments)},t.wbg.__wbg_set_65595bdd868b3009=function(e,n,r){e.set(n,r>>>0)},t.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,n){const r=n.stack,o=I(r,i.__wbindgen_malloc,i.__wbindgen_realloc),s=m;E().setInt32(e+4*1,s,!0),E().setInt32(e+4*0,o,!0)},t.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){const e=typeof global>"u"?null:global;return g(e)?0:d(e)},t.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){const e=typeof globalThis>"u"?null:globalThis;return g(e)?0:d(e)},t.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){const e=typeof self>"u"?null:self;return g(e)?0:d(e)},t.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){const e=typeof window>"u"?null:window;return g(e)?0:d(e)},t.wbg.__wbg_subarray_aa9065fa9dc5df96=function(e,n,r){return e.subarray(n>>>0,r>>>0)},t.wbg.__wbg_versions_c71aa1626a93e0a1=function(e){return e.versions},t.wbg.__wbindgen_error_new=function(e,n){return new Error(u(e,n))},t.wbg.__wbindgen_init_externref_table=function(){const e=i.__wbindgen_export_2,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t.wbg.__wbindgen_is_function=function(e){return typeof e=="function"},t.wbg.__wbindgen_is_object=function(e){const n=e;return typeof n=="object"&&n!==null},t.wbg.__wbindgen_is_string=function(e){return typeof e=="string"},t.wbg.__wbindgen_is_undefined=function(e){return e===void 0},t.wbg.__wbindgen_memory=function(){return i.memory},t.wbg.__wbindgen_string_new=function(e,n){return u(e,n)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(u(e,n))},t}function T(t,e){return i=t.exports,p.__wbindgen_wasm_module=e,_=null,b=null,i.__wbindgen_start(),i}async function p(t){if(i!==void 0)return i;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL(""+new URL("nice_key_gen_bg-HGZLgYOu.wasm",import.meta.url).href,import.meta.url));const e=S();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await L(await t,e);return T(n,r)}async function C(){try{await p(),console.log("WASM initialized successfully"),document.getElementById("loading-status").textContent="WASM module loaded successfully",document.getElementById("generate-button").disabled=!1}catch(t){console.error("WASM initialization error:",t);try{document.getElementById("loading-status").textContent="Trying fallback WASM loading...";const n=await fetch("./assets/nice_key_gen_bg.wasm",{headers:{"Content-Type":"application/wasm"}});if(!n.ok)throw new Error(`Failed to fetch WASM file: ${n.status} ${n.statusText}`);await n.arrayBuffer(),await p(),console.log("WASM loaded via fallback method"),document.getElementById("loading-status").textContent="WASM module loaded via fallback",document.getElementById("generate-button").disabled=!1}catch(e){console.error("Fallback WASM initialization failed:",e),document.getElementById("loading-status").textContent="Failed to load WASM module",document.getElementById("error-message").textContent=`Error: ${t.message}. Fallback error: ${e.message}`,document.getElementById("error-message").style.display="block"}}}function M(){const t=document.getElementById("count-input"),e=document.getElementById("error-message"),n=document.getElementById("key-display");e.textContent="",e.style.display="none";try{const r=parseInt(t.value,10);if(isNaN(r)||r<1||r>10){e.textContent="Please enter a valid number between 1 and 10",e.style.display="block";return}const o=B(r);o&&(document.getElementById("secret-key").textContent=o.secret_key,document.getElementById("public-key").textContent=o.public_key,document.getElementById("pattern-char").textContent=o.pattern_char,document.getElementById("repeating-pattern").textContent=o.pattern_char.repeat(r),n.style.display="block")}catch(r){console.error("Key generation error:",r),e.textContent=`Error generating key: ${r.message}`,e.style.display="block"}}document.addEventListener("DOMContentLoaded",()=>{C(),document.getElementById("generate-button").addEventListener("click",M)});
